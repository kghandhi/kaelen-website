/*!
 * Start Bootstrap - Grayscale v5.0.6 (https://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-grayscale/blob/master/LICENSE)
 */

function descriptionLinkMatching(t,a){if(t.description){var n=t.description.match(/href\s*=\s*(['"])(https?:\/\/.+?)\1/gi);if(null!==n){var r=n.map(function(t){return t.replace(/href=/,"").replace(/"/g,"")}).filter(function(t){return t.match(a)});if(0<r.length)return r[0]}}return""}function formatFbLink(t){return descriptionLinkMatching(t,/www.facebook.com/)}function formatLocation(t){var a='<i class="fas fa-street-view"></i>';t.location&&(a=t.location.split(",")[0]);var n="@ "+a,r=descriptionLinkMatching(t,/www.google.com/),e=descriptionLinkMatching(t,/goo.gl/);return 0<r.length?n='@ <a href="'+r+'" target="_blank">'+a+"</a>":0<e.length&&(n='@ <a href="'+e+'" target="_blank">'+a+"</a>"),"<p>"+n+"</p>"}function formatStartEndTime(t){var a=moment(t.start.dateTime),n=moment(t.end.dateTime),r=a.format("MMMM Do YYYY, h:mm a");if(a.isSame(n,"date"))var e=n.format("LT");else e=n.format("h:mm a MMMM Do");return t.start.date?"<p>"+a.format("MMMM Do YYYY")+"</p>":"<p>"+r+" - "+e+"</p>"}function formatDate(t){var a=moment(t.start.dateTime);return'<div class="col-sm-2 gig-date text-center mx-auto"><p>'+a.format("MMM")+"<br/>"+a.format("Do")+"</p></div>"}function formatSummary(t){var a=formatFbLink(t),n=t.htmlLink;0<a.length&&(n=a);var r='<a href="'+n+'" target="_blank"><i class="far fa-calendar"></i></a>';return'<div class="col-sm-5 align-self-center"> <h3>'+t.summary+" // "+r+"</h3> </div>"}function formatEvent(t){var a=formatSummary(t),n=formatStartEndTime(t);return['<div class="row gig-event">',formatDate(t),a,'<div class="col-sm-5 align-self-center">',n,formatLocation(t),"</div></div>"].join("")}function parseEvents(t){var a=[],n=[];return t.sort(function(t,a){return t.start.dateTime>a.start.dateTime}).forEach(function(t){moment(t.start.dateTime)>moment()?a.push(formatEvent(t)):n.push(formatEvent(t))}),0<a.length&&a.unshift("<h2 class='mb-4 glow'>Upcoming Events</h2>"),0<n.length&&a.unshift("<h2 class='mb-4 glow'>Past Events</h2>"),{upcoming:a.join(""),past:n.reverse().join("")}}