/*!
 * Start Bootstrap - Grayscale v5.0.6 (https://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-grayscale/blob/master/LICENSE)
 */

function descriptionLinkMatching(t,n){if(t.description){var a=t.description.match(/href\s*=\s*(['"])(https?:\/\/.+?)\1/gi);if(null!==a){var e=a.map(function(t){return t.replace(/href=/,"").replace(/"/g,"")}).filter(function(t){return t.match(n)});if(0<e.length)return e[0]}}return""}function formatFbLink(t){return descriptionLinkMatching(t,/www.facebook.com/)}function formatLocation(t){var n='<i class="fas fa-street-view"></i>';t.location&&(n=t.location.split(",")[0]);var a="@ "+n,e=descriptionLinkMatching(t,/www.google.com/),r=descriptionLinkMatching(t,/goo.gl/);return console.log(t),console.log(t.location),console.log(e),console.log(r),0<e.length?a='@ <a href="'+e+'" target="_blank">'+n+"</a>":0<r.length&&(a='@ <a href="'+r+'" target="_blank">'+n+"</a>"),"<p>"+a+"</p>"}function formatStartEndTime(t){var n=moment(t.start.dateTime),a=moment(t.end.dateTime),e=n.format("MMMM Do YYYY, h:mm a");if(n.isSame(a,"date"))var r=a.format("LT");else r=a.format("h:mm a MMMM Do");return t.start.date?"<p>"+n.format("MMMM Do YYYY")+"</p>":"<p>"+e+" - "+r+"</p>"}function formatDate(t){var n=moment(t.start.dateTime);return'<div class="col-sm-2 gig-date text-center"><p>'+n.format("MMM")+"<br/>"+n.format("Do")+"</p></div>"}function formatSummary(t){var n=formatFbLink(t),a=t.htmlLink;0<n.length&&(a=n);var e='<a href="'+a+'" target="_blank"><i class="far fa-calendar"></i></a>';return'<div class="col-sm-5 align-self-center"> <h3>'+t.summary+" // "+e+"</h3> </div>"}function formatEvent(t){var n=formatSummary(t),a=formatStartEndTime(t);return['<div class="row gig-event">',formatDate(t),n,'<div class="col-sm-5 align-self-center">',a,formatLocation(t),"</div></div>"].join("")}function parseEvents(t){var n=[],a=[];return t.sort(function(t,n){return t.start.dateTime>n.start.dateTime}).forEach(function(t){moment(t.start.dateTime)>moment()?n.push(formatEvent(t)):a.push(formatEvent(t))}),0<n.length?n.unshift("<h2 class='mb-4 glow'>Upcoming Events</h2>"):n.unshift("<h2 class='mb-4 glow'>More events coming soon...</h2>"),0<a.length&&(a=a.reverse()).unshift("<h2 class='mb-4 glow'>Past Events</h2>"),{upcoming:n.join(""),past:a.join("")}}